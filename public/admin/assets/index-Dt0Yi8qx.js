import{r as d,a as Me,R as De}from"./vendor-wGySg1uH.js";import{U as ie,L as Le,K as ge,C as fe,X as _e,a as Ie,b as he,c as X,d as Oe,E as Ee,F as se,A as Pe,S as ae,e as Te,f as Fe,g as je,h as $e,i as Ue,j as Be,R as Ne,D as oe,T as Ve,W as ze,k as Ge,l as qe,m as We,P as He,n as Ke}from"./ui-DHyHcEV1.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();var ve={exports:{}},le={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=d,Xe=Symbol.for("react.element"),Ye=Symbol.for("react.fragment"),Qe=Object.prototype.hasOwnProperty,Ze=Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,et={key:!0,ref:!0,__self:!0,__source:!0};function ye(t,l,r){var o,s={},n=null,c=null;r!==void 0&&(n=""+r),l.key!==void 0&&(n=""+l.key),l.ref!==void 0&&(c=l.ref);for(o in l)Qe.call(l,o)&&!et.hasOwnProperty(o)&&(s[o]=l[o]);if(t&&t.defaultProps)for(o in l=t.defaultProps,l)s[o]===void 0&&(s[o]=l[o]);return{$$typeof:Xe,type:t,key:n,ref:c,props:s,_owner:Ze.current}}le.Fragment=Ye;le.jsx=ye;le.jsxs=ye;ve.exports=le;var e=ve.exports,de={},ue=Me;de.createRoot=ue.createRoot,de.hydrateRoot=ue.hydrateRoot;function tt(){return Promise.resolve(!1)}function st(t){return{currentUser:null,onAuthStateChanged:l=>(l(null),()=>{}),signOut:async()=>{}}}const at=async()=>{throw new Error("Firebase disabled or not loaded")},lt=(t,l)=>()=>{};function we(t){return{__shim_db:!0}}function E(t,...l){return{__coll:l}}function P(t,...l){return{__doc:l}}async function ce(t,l){return{id:Math.random().toString(36).slice(2,9)}}async function q(t,l){}function G(t,l,r){try{l({docs:[]})}catch(o){r==null||r(o)}return()=>{}}function be(...t){return t}function rt(...t){return t}function nt(...t){return t}async function Se(t){}async function te(t,l,r){}async function ot(t){return{exists:()=>!1,data:()=>null}}const dt=({onLogin:t})=>{const[l,r]=d.useState(""),[o,s]=d.useState(""),[n,c]=d.useState(""),m=i=>{i.preventDefault(),l==="admin73"&&o==="aa123321"?t():c("Invalid username or password")};return e.jsxs("div",{className:"min-h-screen admin-login-bg flex items-center justify-center relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute inset-0 wave-pattern pointer-events-none"}),e.jsxs("div",{className:"bg-white rounded-[4px] shadow-2xl w-[420px] p-10 relative z-10 animate-fade-in",children:[e.jsx("div",{className:"flex flex-col items-center mb-8 mt-4",children:e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("h1",{className:"text-2xl font-bold text-gray-700",children:[e.jsx("span",{className:"text-[#84cc16]",children:"Admin73"})," System"]})})}),e.jsxs("form",{onSubmit:m,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-3 text-gray-400",children:e.jsx(ie,{className:"w-5 h-5"})}),e.jsx("input",{type:"text",value:l,onChange:i=>{r(i.target.value),c("")},placeholder:"Please enter username",className:"w-full bg-[#e5e7eb] border-none rounded-[4px] py-3 pl-10 pr-4 text-sm text-gray-700 placeholder-gray-400 focus:ring-1 focus:ring-blue-500 outline-none"})]}),e.jsx("p",{className:"text-[10px] text-red-500",children:"2-20 characters,support pure English/English and numeric"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-3 text-gray-400",children:e.jsx(Le,{className:"w-5 h-5"})}),e.jsx("input",{type:"password",value:o,onChange:i=>{s(i.target.value),c("")},placeholder:"Please enter password",className:"w-full bg-[#e5e7eb] border-none rounded-[4px] py-3 pl-10 pr-4 text-sm text-gray-700 placeholder-gray-400 focus:ring-1 focus:ring-blue-500 outline-none"})]}),e.jsx("p",{className:"text-[10px] text-red-500",children:"Password cannot be null"})]}),n&&e.jsx("div",{className:"text-xs text-red-600 font-bold text-center bg-red-50 p-2 rounded",children:n}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"remember",className:"w-4 h-4 text-blue-500 rounded border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remember",className:"text-sm text-blue-500",children:"Remember me"})]}),e.jsx("button",{type:"submit",className:"w-full bg-[#3b82f6] hover:bg-blue-600 text-white font-medium py-3 rounded-[4px] transition-colors shadow-lg shadow-blue-200",children:"Login"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"h-[1px] bg-gray-200 flex-1"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Or log in as follows"}),e.jsx("div",{className:"h-[1px] bg-gray-200 flex-1"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1 cursor-pointer hover:opacity-80 transition-opacity",children:[e.jsx(ge,{className:"w-6 h-6 text-gray-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Passkey"})]})]}),e.jsx("div",{className:"mt-8 text-center border-t border-gray-100 pt-4",children:e.jsxs("p",{className:"text-[10px] text-gray-400 leading-tight",children:["If forgetting the password or for two-step verification, please contact the internal admin. If it remains unsolved, please contact ",e.jsx("span",{className:"text-blue-500 underline cursor-pointer",children:"Technical Support"})]})})]})]})},V=we(),z="loan-system-v5",it=({userId:t,onClose:l})=>{const[r,o]=d.useState([]),[s,n]=d.useState("Membership overview"),[c,m]=d.useState([]),[i,u]=d.useState("Loading..."),[C,w]=d.useState(0),[N,$]=d.useState("Normal"),[b,S]=d.useState({address:"",telegram:"",whatsapp:"",images:[null,null,null,null]}),[A,I]=d.useState([]),[W,H]=d.useState(null),[y,O]=d.useState(!1),[U,K]=d.useState(!1),[f,_]=d.useState({name:"",phone:"",email:"",id:""});d.useEffect(()=>{const a=be(E(V,"artifacts",z,"public","data","loans"),rt("userId","==",t)),h=G(a,k=>{const g=k.docs.map(ee=>({id:ee.id,...ee.data()}));g.sort((ee,Re)=>{var xe,me;return(((xe=Re.timestamp)==null?void 0:xe.seconds)||0)-(((me=ee.timestamp)==null?void 0:me.seconds)||0)}),o(g)},k=>{console.log("Listen error:",k)}),M=P(V,"artifacts",z,"public","data","users_demo",t),T=G(M,k=>{if(k.exists()){const g=k.data();_({name:g.name||"",phone:g.phone||t,email:g.email||"",id:g.nationalId||""}),S({address:g.address||"",telegram:g.telegram||"",whatsapp:g.whatsapp||"",images:g.clientImages||[null,null,null,null]}),u(g.name||"Unknown"),w(g.balance||0),$(g.status||"Normal"),H(g.applicationOTP||null)}else u("Unknown User"),_({name:"",phone:t,email:"",id:""})}),F=E(V,"artifacts",z,"public","data","users_demo",t,"accounts"),J=G(F,k=>{m(k.docs.map(g=>({id:g.id,...g.data()})))}),ke=be(E(V,"artifacts",z,"public","data","users_demo",t,"logs"),nt("timestamp","desc")),Ae=G(ke,k=>{I(k.docs.map(g=>({id:g.id,...g.data()})))},k=>console.log("Log fetch error (likely empty/permission):",k));return()=>{h(),T(),J(),Ae()}},[t]);const re=r.reduce((a,h)=>a+h.amount,0);r.reduce((a,h)=>a+(h.paidAmount||0),0);const Y=async a=>{await q()},Q=async a=>{await q()},x=async()=>{const a=Math.floor(1e5+Math.random()*9e5).toString();await q(),H(a)},j=async a=>{if(a==="Modify Status"){const h=prompt("Enter new status (Normal/Frozen):",N);h&&(h==="Normal"||h==="Frozen")&&await Y()}else if(a==="Restored to be normal")await Y();else if(a==="Manually retrieve"){const h=prompt("Enter amount to ADD to balance:");h&&!isNaN(h)&&await Q()}else if(a==="Manual deduction"){const h=prompt("Enter amount to DEDUCT from balance:");h&&!isNaN(h)&&await Q()}},v=async()=>{prompt("Enter Type (CPF/PIX):","PIX")&&prompt("Enter Account Key:")&&await ce(E(V,"artifacts",z,"public","data","users_demo",t,"accounts"),{time:new Date().toLocaleString()})},B=async a=>{confirm("Delete this account?")&&await Se()},R=async()=>{K(!0);try{await te(P(V,"artifacts",z,"public","data","users_demo",t),{name:f.name,phone:f.phone,email:f.email,nationalId:f.id,address:b.address,telegram:b.telegram,whatsapp:b.whatsapp,clientImages:b.images},{merge:!0}),O(!1)}catch(a){console.error(a)}finally{K(!1)}},ne=(a,h)=>{const M=h.target.files[0];if(M){if(M.size>8e5){alert("Image too large! Please choose an image under 800KB.");return}const T=new FileReader;T.onloadend=()=>{const F=[...b.images];F[a]=T.result,S(J=>({...J,images:F}))},T.readAsDataURL(M)}},Z=a=>{const h=[...b.images];h[a]=null,S(M=>({...M,images:h}))},p=({label:a,value:h,actions:M,valueColor:T="text-gray-800"})=>e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("td",{className:"admin-label-col",children:a}),e.jsx("td",{className:`admin-value-col ${T}`,children:h}),e.jsx("td",{className:"admin-action-col",children:M&&M.map((F,J)=>e.jsx("span",{onClick:()=>j(F),className:"admin-link",children:F},J))})]}),Ce=["Membership overview","Contact information","Personal information","Withdrawal account","Account transaction","Betting statistics","Member's log"];return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in font-sans",children:e.jsxs("div",{className:"bg-white w-full max-w-[1200px] shadow-2xl flex flex-col h-[90vh] rounded-sm overflow-hidden",children:[e.jsxs("div",{className:"bg-white px-4 py-3 border-b border-slate-200 flex justify-between items-center shadow-sm z-10 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 text-gray-700",children:[e.jsxs("div",{children:["Currency: ",e.jsx("span",{className:"font-bold text-black",children:"BRL"})]}),e.jsxs("div",{children:["Member Account: ",e.jsx("span",{className:"font-bold text-black",children:t})," ",e.jsx(fe,{onClick:()=>copyToClipboard(t),className:"inline w-3 h-3 text-blue-500 cursor-pointer ml-1"})]}),e.jsxs("div",{children:["Member ID: ",e.jsx("span",{className:"font-bold text-black",children:t.slice(0,9)})]})]}),e.jsx("button",{onClick:l,children:e.jsx(_e,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),e.jsx("div",{className:"bg-white px-4 border-b border-slate-200 flex gap-6 overflow-x-auto shadow-sm z-10",children:Ce.map(a=>{const h=s===a;return e.jsx("button",{onClick:()=>n(a),className:`py-3 text-xs font-medium whitespace-nowrap border-b-2 transition-colors ${h?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-blue-500"}`,children:a},a)})}),e.jsxs("div",{className:"flex-1 overflow-y-auto bg-[#f0f2f5] p-6",children:[s==="Membership overview"&&e.jsx("div",{className:"bg-white border border-slate-300 shadow-sm",children:e.jsx("table",{className:"admin-detail-table",children:e.jsxs("tbody",{children:[e.jsx(p,{label:"Account Status",value:e.jsx(e.Fragment,{children:e.jsx("span",{className:N==="Normal"?"text-green-600 font-bold":"text-red-600 font-bold",children:N})}),actions:["Modify Status"]}),e.jsx(p,{label:"Account_type",value:"Official account -Everyone's agent"}),e.jsx(p,{label:"Self-restriction status",value:"--",actions:["Restored to be normal"]}),e.jsx(p,{label:"Superior Agent",value:"(Infinite range)"}),e.jsx(p,{label:"Agent commission",value:"Accumulated commission: 0.00"}),e.jsx(p,{label:"Real name",value:i,actions:["Batch processing"],valueColor:"text-blue-500"}),e.jsx(p,{label:"Member currency",value:"BRL ðŸ‡§ðŸ‡·"}),e.jsx(p,{label:"Account balance",value:`${C.toFixed(2)}`,valueColor:"text-blue-600 font-bold",actions:["Manually retrieve","Account change records","Manual deduction","Manual deduction review"]}),e.jsx(p,{label:"Funding correction (manual)",value:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold",children:"Cumulative additions 0.00"})," ",e.jsx("span",{className:"font-bold ml-4",children:"Cumulative deductions 0.00"})]})}),e.jsx(p,{label:"Interest(cumulative income)",value:"Interest balance: 0.00",actions:["Refresh"]}),e.jsx(p,{label:"Cumulative deposit",value:"0.00",valueColor:"text-blue-500",actions:["Deposit record"]}),e.jsx(p,{label:"Total withdrawal",value:`$${re.toFixed(2)}`,valueColor:"text-blue-500",actions:["Withdrawals record","On-time audit"]}),e.jsx(p,{label:"Deposit and withdraw difference",value:"0.00",valueColor:"font-bold"}),e.jsx(p,{label:"Bet Today",value:"0.00",valueColor:"text-blue-500",actions:["Bet record"]}),e.jsx(p,{label:"Today's win/losss",value:"0.00",valueColor:"text-blue-500"}),e.jsx(p,{label:"Rewards wallet",value:"0.00",actions:["Refresh"]}),e.jsx(p,{label:"Event bonus",value:"Cumulative rebate: 0.00",actions:["Refresh"]}),e.jsx(p,{label:"Rebate settings",value:"--",actions:["Modify"]})]})})}),s==="Contact information"&&e.jsxs("div",{className:"bg-white border border-slate-300 shadow-sm p-6 flex gap-8",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[0,1,2,3].map(a=>e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"w-full h-32 bg-slate-100 border border-slate-200 rounded-lg flex items-center justify-center overflow-hidden",children:[b.images[a]?e.jsx("img",{src:b.images[a],alt:`Doc ${a+1}`,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Ie,{className:"w-8 h-8 text-slate-300 mb-1"}),e.jsxs("span",{className:"text-[10px] text-slate-400",children:["Photo ",a+1]})]}),y&&e.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity rounded-lg",children:[e.jsx(he,{className:"text-white w-6 h-6"}),e.jsx("input",{type:"file",accept:"image/*",onChange:h=>ne(a,h),className:"hidden"})]})]}),y&&b.images[a]&&e.jsx("button",{onClick:()=>Z(a),className:"text-red-500 text-[10px] font-bold mt-1 hover:underline w-full text-center",children:"Remove"})]},a))}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Supported formats: JPG, PNG (Max 800KB)"})]}),e.jsxs("div",{className:"w-1/2 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-700",children:"Contact Details"}),e.jsx("button",{onClick:()=>y?R():O(!0),className:"text-blue-600 text-xs font-bold border border-blue-200 px-3 py-1 rounded hover:bg-blue-50",children:y?U?"Saving...":"Save All Changes":"Edit Contact Info"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Residential Address"}),e.jsx("textarea",{disabled:!y,value:b.address,onChange:a=>S({...b,address:a.target.value}),className:"w-full border p-2 rounded bg-slate-50 text-sm h-20 resize-none disabled:text-gray-500 text-gray-800",placeholder:"Enter full address..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Telegram"}),e.jsx("input",{disabled:!y,value:b.telegram,onChange:a=>S({...b,telegram:a.target.value}),className:"w-full border p-2 rounded bg-slate-50 text-sm disabled:text-gray-500 text-gray-800",placeholder:"@username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"WhatsApp"}),e.jsx("input",{disabled:!y,value:b.whatsapp,onChange:a=>S({...b,whatsapp:a.target.value}),className:"w-full border p-2 rounded bg-slate-50 text-sm disabled:text-gray-500 text-gray-800",placeholder:"+1234567890"})]})]})]})]}),s==="Personal information"&&e.jsxs("div",{className:"bg-white border border-slate-300 shadow-sm p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"font-bold text-gray-700",children:"Client Details"}),y?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>O(!1),className:"text-gray-600 text-sm font-bold border border-gray-300 px-4 py-2 rounded hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:R,disabled:U,className:"bg-blue-600 text-white text-sm font-bold px-4 py-2 rounded hover:bg-blue-700 flex items-center gap-2",children:[U&&e.jsx(X,{className:"w-4 h-4 animate-spin"})," Save Changes"]})]}):e.jsx("button",{onClick:()=>O(!0),className:"text-blue-600 text-sm font-bold border border-blue-200 px-4 py-2 rounded hover:bg-blue-50",children:"Edit Information"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Full Name"}),e.jsx("input",{disabled:!y,value:f.name,onChange:a=>_({...f,name:a.target.value}),className:"w-full border p-2 rounded bg-gray-50 disabled:text-gray-500 text-gray-800 font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Phone Number"}),e.jsx("input",{disabled:!y,value:f.phone,onChange:a=>_({...f,phone:a.target.value}),className:"w-full border p-2 rounded bg-gray-50 disabled:text-gray-500 text-gray-800 font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Email Address"}),e.jsx("input",{disabled:!y,value:f.email,onChange:a=>_({...f,email:a.target.value}),className:"w-full border p-2 rounded bg-gray-50 disabled:text-gray-500 text-gray-800 font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"National ID"}),e.jsx("input",{disabled:!y,value:f.id,onChange:a=>_({...f,id:a.target.value}),className:"w-full border p-2 rounded bg-gray-50 disabled:text-gray-500 text-gray-800 font-medium"})]})]})]}),s==="Withdrawal account"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-gray-700",children:"Linked Accounts"}),e.jsxs("div",{className:"flex items-center gap-4",children:[W&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 px-3 py-1 rounded text-xs font-bold text-yellow-700 flex items-center gap-2",children:[e.jsx(ge,{className:"w-3 h-3"})," OTP: ",W]}),e.jsx("button",{onClick:x,className:"bg-slate-100 border border-slate-300 text-slate-700 text-xs font-bold px-3 py-2 rounded hover:bg-slate-200",children:"Generate Application OTP"}),e.jsx("button",{onClick:v,className:"bg-blue-600 text-white text-xs font-bold px-4 py-2 rounded hover:bg-blue-700",children:"Add Account"})]})]}),e.jsx("div",{className:"bg-white border border-slate-300 shadow-sm rounded",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-b",children:"Type"}),e.jsx("th",{className:"p-3 border-b",children:"Account"}),e.jsx("th",{className:"p-3 border-b",children:"Added Time"}),e.jsx("th",{className:"p-3 border-b",children:"Status"}),e.jsx("th",{className:"p-3 border-b",children:"Action"})]})}),e.jsxs("tbody",{children:[c.map(a=>e.jsxs("tr",{className:"border-b last:border-0 hover:bg-slate-50",children:[e.jsx("td",{className:"p-3 font-bold text-gray-700",children:a.type}),e.jsx("td",{className:"p-3 font-mono",children:a.account}),e.jsx("td",{className:"p-3 text-gray-500 text-xs",children:a.time}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold",children:a.status})}),e.jsx("td",{className:"p-3",children:e.jsx("button",{onClick:()=>B(a.id),className:"text-red-500 hover:underline text-xs font-bold",children:"Remove"})})]},a.id)),c.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-4 text-center text-gray-400",children:"No withdrawal accounts linked."})})]})]})})]}),s==="Account transaction"&&e.jsx("div",{className:"bg-white border border-slate-300 shadow-sm rounded",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-b",children:"Time"}),e.jsx("th",{className:"p-3 border-b",children:"Type"}),e.jsx("th",{className:"p-3 border-b",children:"Amount"}),e.jsx("th",{className:"p-3 border-b",children:"Status"})]})}),e.jsx("tbody",{children:r.length>0?r.map(a=>{var h;return e.jsxs("tr",{className:"border-b last:border-0 hover:bg-slate-50",children:[e.jsx("td",{className:"p-3 text-gray-500 text-xs",children:formatDate((h=a.timestamp)==null?void 0:h.seconds)}),e.jsx("td",{className:"p-3 font-bold text-gray-700",children:"Loan Request"}),e.jsxs("td",{className:"p-3 font-mono text-blue-600 font-bold",children:["$",a.amount]}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${a.status==="approved"?"bg-green-100 text-green-700":a.status==="pending"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:a.status})})]},a.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-6 text-center text-gray-400",children:"No transactions found."})})})]})}),s==="Member's log"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[e.jsxs("div",{className:"flex border border-slate-300 rounded overflow-hidden",children:[e.jsx("button",{className:"px-3 py-1 bg-white hover:bg-slate-50 border-r border-slate-300",children:"Day"}),e.jsx("button",{className:"px-3 py-1 bg-blue-50 text-blue-600 border-r border-slate-300 font-bold",children:"Week"}),e.jsx("button",{className:"px-3 py-1 bg-white hover:bg-slate-50",children:"Month"})]}),e.jsxs("div",{className:"flex items-center border border-slate-300 rounded bg-white px-2 py-1 gap-2",children:[e.jsx(Oe,{className:"w-3 h-3 text-slate-400"}),e.jsxs("span",{className:"text-slate-600",children:[new Date().toISOString().split("T")[0]," - Now"]})]}),e.jsx("select",{className:"border border-slate-300 rounded px-2 py-1 bg-white text-slate-600 outline-none",children:e.jsx("option",{children:"Membership Tag"})}),e.jsx("select",{className:"border border-slate-300 rounded px-2 py-1 bg-white text-slate-600 outline-none",children:e.jsx("option",{children:"Please select Membership"})}),e.jsx("select",{className:"border border-slate-300 rounded px-2 py-1 bg-white text-slate-600 outline-none",children:e.jsx("option",{children:"All action items"})}),e.jsx("button",{className:"px-3 py-1 border border-slate-300 rounded bg-white hover:bg-slate-50 text-slate-600",children:"Reset"}),e.jsx("div",{className:"flex-1 text-right",children:e.jsxs("button",{className:"px-3 py-1 border border-slate-300 rounded bg-white hover:bg-slate-50 text-slate-600 flex items-center gap-1 ml-auto",children:[e.jsx(he,{className:"w-3 h-3"})," Export report"]})})]}),e.jsx("div",{className:"bg-white border border-slate-300 shadow-sm rounded overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-xs whitespace-nowrap",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 min-w-[140px]",children:"Operation time"}),e.jsx("th",{className:"p-3",children:"Operation Item"}),e.jsx("th",{className:"p-3",children:"Operate"}),e.jsx("th",{className:"p-3",children:"Before the change"}),e.jsx("th",{className:"p-3",children:"After the change"}),e.jsx("th",{className:"p-3",children:"Operation result"}),e.jsx("th",{className:"p-3",children:"Operation entrance"}),e.jsx("th",{className:"p-3",children:"Operation number"}),e.jsx("th",{className:"p-3",children:"Operator"}),e.jsx("th",{className:"p-3",children:"Client type"}),e.jsx("th",{className:"p-3",children:"Browser brand"}),e.jsx("th",{className:"p-3",children:"Operating system"}),e.jsx("th",{className:"p-3",children:"System version"}),e.jsx("th",{className:"p-3",children:"Equipment brand"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:A.length>0?A.map((a,h)=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"p-3 text-slate-500",children:a.time.split("T").join(" ").split(".")[0]}),e.jsx("td",{className:"p-3 text-slate-700",children:a.type}),e.jsx("td",{className:"p-3 text-blue-500",children:"Non"}),e.jsx("td",{className:"p-3 text-slate-400",children:"Non"}),e.jsx("td",{className:"p-3 text-slate-400",children:"Non"}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-green-600 font-bold",children:"Success"})}),e.jsx("td",{className:"p-3 text-slate-600",children:"Hall"}),e.jsx("td",{className:"p-3 text-slate-600",children:"Member"}),e.jsx("td",{className:"p-3 text-slate-600",children:t}),e.jsx("td",{className:"p-3 text-slate-600",children:"iOS sign(v6.5.80)"}),e.jsx("td",{className:"p-3 text-slate-600",children:"Mobile Safari v18.6"}),e.jsx("td",{className:"p-3 text-slate-600",children:"iOS"}),e.jsx("td",{className:"p-3 text-slate-600",children:"iOS 18.6.2"}),e.jsx("td",{className:"p-3 text-slate-600",children:"iPhone"})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"p-8 text-center text-gray-400",children:"No records found."})})})]})}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Total ",A.length]})]}),s==="Betting statistics"&&e.jsx("div",{className:"bg-white border border-slate-300 shadow-sm p-12 text-center text-gray-400",children:e.jsx("p",{children:"No records found for this period."})})]})]})})},ct=t=>t?new Date(t*1e3).toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",xt=t=>{const l=document.createElement("textarea");l.value=t,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l)},mt=({loans:t,onAction:l,onAddNote:r,onViewClient:o,selectedIds:s,toggleSelection:n,toggleAll:c,setInspectingLoan:m})=>e.jsx("div",{className:"overflow-x-auto bg-white flex-1",children:e.jsxs("table",{className:"w-full text-left border-collapse ent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 w-10 text-center border-r border-[#eceff1]",children:e.jsx("input",{type:"checkbox",onChange:c,checked:t.length>0&&s.length===t.length})}),e.jsx("th",{className:"border-r border-[#eceff1]",children:"Order Details"}),e.jsx("th",{className:"border-r border-[#eceff1]",children:"Member Info"}),e.jsx("th",{className:"border-r border-[#eceff1]",children:"Amount / Term"}),e.jsx("th",{className:"border-r border-[#eceff1]",children:"Risk / Credit"}),e.jsx("th",{className:"border-r border-[#eceff1]",children:"Status"}),e.jsx("th",{className:"text-center",children:"Operate"})]})}),e.jsx("tbody",{className:"text-[11px] text-gray-600",children:t.map((i,u)=>{var C;return e.jsxs("tr",{className:`border-b border-[#cfd8dc] hover:bg-[#e3f2fd] transition-colors ${u%2===0?"bg-white":"bg-[#fafafa]"}`,children:[e.jsx("td",{className:"p-2 text-center border-r border-[#eceff1]",children:e.jsx("input",{type:"checkbox",checked:s.includes(i.id),onChange:()=>n(i.id)})}),e.jsx("td",{className:"border-r border-[#eceff1] align-top",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:"text-[#1e88e5] font-medium cursor-pointer hover:underline flex items-center gap-1",children:[i.id.slice(0,10),"... ",e.jsx(fe,{className:"w-3 h-3 text-gray-400 hover:text-blue-500",onClick:()=>xt(i.id)})]}),e.jsx("span",{className:"text-gray-400",children:ct((C=i.timestamp)==null?void 0:C.seconds)})]})}),e.jsx("td",{className:"border-r border-[#eceff1] align-top",children:e.jsxs("div",{className:"flex flex-col gap-1 group relative",children:[e.jsxs("button",{onClick:()=>o(i.userId),className:"font-bold text-gray-700 hover:text-[#1e88e5] text-left flex items-center gap-1 transition-colors group",children:[i.userId.slice(0,8)," ",e.jsx(Ee,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity text-[#1e88e5]"})]}),e.jsx("span",{className:"text-gray-400 text-[10px]",children:"Real Name: Jose"})]})}),e.jsx("td",{className:"border-r border-[#eceff1] align-top",children:e.jsxs("div",{className:"flex flex-col text-right pr-4",children:[e.jsxs("span",{className:"font-bold text-gray-800",children:["$",i.amount.toFixed(2)]}),e.jsxs("span",{className:"text-gray-400 text-[10px]",children:[i.term," Months"]})]})}),e.jsx("td",{className:"border-r border-[#eceff1] align-top",children:e.jsxs("div",{className:"flex justify-between text-[10px] gap-2",children:[e.jsxs("span",{children:["Score: ",e.jsx("span",{className:"font-bold text-green-600",children:i.creditScore||720})]}),e.jsxs("span",{className:"bg-green-100 text-green-700 px-1 rounded",children:[i.risk||"Low"," Risk"]})]})}),e.jsx("td",{className:"border-r border-[#eceff1] align-middle text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded border text-[10px] font-bold uppercase ${i.status==="approved"?"bg-green-50 text-green-600 border-green-200":i.status==="rejected"?"bg-red-50 text-red-600 border-red-200":"bg-orange-50 text-orange-600 border-orange-200"}`,children:i.status})}),e.jsx("td",{className:"text-center align-middle",children:e.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>m(i),className:"text-gray-500 hover:text-indigo-600 font-bold text-[10px] border border-gray-200 px-2 py-0.5 rounded",children:"Risk Audit"})}),i.status==="pending"&&e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("button",{onClick:()=>l(i.id,"approved"),className:"text-blue-600 hover:underline",children:"Approve"}),e.jsx("button",{onClick:()=>l(i.id,"rejected"),className:"text-red-600 hover:underline",children:"Reject"})]}),e.jsxs("button",{onClick:()=>r(i),className:"text-gray-500 hover:text-[#1e88e5] flex items-center gap-1 mt-1",children:[e.jsx(se,{className:"w-3 h-3"})," Remark"]})]})})]},i.id)})})]})}),pe=st(),D=we(),L="loan-system-v5",ht=()=>{const[t,l]=d.useState(!1),[r,o]=d.useState(600),[s,n]=d.useState(!1),c=async()=>{n(!0),await new Promise(m=>setTimeout(m,800)),n(!1),alert("Risk settings updated!")};return e.jsx("div",{className:"animate-fade-in max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-8 shadow-sm",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[e.jsx(ae,{className:"w-6 h-6 text-indigo-600"})," Risk Control Configuration"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-700",children:"Auto-Reject High Risk"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Automatically reject applications with credit score below threshold."})]}),e.jsx("div",{onClick:()=>l(!t),className:`w-12 h-6 rounded-full cursor-pointer transition-colors relative ${t?"bg-indigo-600":"bg-slate-300"}`,children:e.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all ${t?"left-7":"left-1"}`})})]}),t&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Credit Score Threshold"}),e.jsx("input",{type:"number",value:r,onChange:m=>o(m.target.value),className:"w-full p-3 border border-slate-200 rounded-lg"}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Scores below ",r," will be auto-rejected."]})]}),e.jsx("button",{onClick:c,disabled:s,className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition-colors flex justify-center items-center gap-2",children:s?e.jsx(X,{className:"animate-spin w-5 h-5"}):"Save Configuration"})]})]})})},ut=({user:t,activeTab:l,setActiveTab:r,onLogout:o,viewMode:s,setViewMode:n,pendingCount:c})=>e.jsxs("div",{className:"bg-[#1e88e5] text-white transition-colors duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 h-12 text-xs border-b border-blue-400",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"font-bold flex items-center gap-2 text-sm",children:[e.jsx($e,{className:"w-4 h-4"})," Loan Management System V5.0"]}),e.jsxs("span",{className:"opacity-80 hidden md:block",children:["Server Time: ",new Date().toUTCString()]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-blue-700/50 rounded-full px-1 p-0.5 border border-blue-400/30",children:[e.jsx("button",{onClick:()=>n("ops"),className:`px-3 py-1 rounded-full text-[10px] font-bold transition-all ${s==="ops"?"bg-white text-blue-700 shadow-sm":"text-blue-100 hover:text-white"}`,children:"Operations"}),e.jsx("button",{onClick:()=>n("admin"),className:`px-3 py-1 rounded-full text-[10px] font-bold transition-all ${s==="admin"?"bg-white text-blue-700 shadow-sm":"text-blue-100 hover:text-white"}`,children:"System Admin"})]}),e.jsxs("span",{className:"flex items-center gap-1 font-mono",children:[e.jsx(ie,{className:"w-3 h-3"})," ",t==null?void 0:t.uid.slice(0,6)]}),e.jsx("button",{onClick:o,className:"flex items-center gap-1 hover:text-blue-200",children:e.jsx(Ue,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"flex items-end px-2 gap-1 h-10 bg-[#f5f7fa] border-b border-[#cfd8dc]",children:s==="ops"?[{id:"loan_management",label:"Loan Management",count:c},{id:"all_members",label:"All Members"},{id:"risk_control",label:"Risk Control"},{id:"financial_stats",label:"Financial Statistics"}].map(m=>e.jsxs("button",{onClick:()=>r(m.id),className:`px-4 py-2 text-xs font-medium rounded-t-md border-t border-l border-r border-[#cfd8dc] relative -mb-[1px] transition-colors ${l===m.id?"bg-white text-[#1e88e5] border-b-white z-10 font-bold":"bg-[#e3f2fd] text-gray-600 border-b-[#cfd8dc] hover:bg-gray-50"}`,children:[m.label,m.count>0&&e.jsx("span",{className:"ml-2 text-[10px] bg-red-500 text-white px-1 rounded-full",children:m.count})]},m.id)):[{id:"admin_dashboard",label:"Dashboard"},{id:"user_management",label:"User Management"},{id:"role_permission",label:"Role & Permission"},{id:"loan_config",label:"Loan Config"},{id:"reports",label:"Reports"}].map(m=>e.jsx("button",{onClick:()=>r(m.id),className:`px-4 py-2 text-xs font-medium rounded-t-md border-t border-l border-r border-[#cfd8dc] relative -mb-[1px] transition-colors ${l===m.id?"bg-white text-purple-600 border-b-white z-10 font-bold":"bg-purple-50 text-gray-600 border-b-[#cfd8dc] hover:bg-gray-50"}`,children:m.label},m.id))})]}),bt=({filters:t,setFilters:l,onReset:r,onExport:o})=>e.jsxs("div",{className:"bg-white p-3 border-b border-[#cfd8dc] text-xs",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsxs("div",{className:"flex items-center border border-[#cfd8dc] rounded bg-gray-50",children:[e.jsx("span",{className:"bg-gray-100 px-2 py-1 border-r border-[#cfd8dc] text-gray-500",children:"Application Time"}),e.jsx("input",{type:"date",className:"bg-transparent px-2 py-1 outline-none w-32"}),e.jsx("span",{className:"text-gray-400",children:"-"}),e.jsx("input",{type:"date",className:"bg-transparent px-2 py-1 outline-none w-32"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{placeholder:"Member Account / ID",value:t.search,onChange:s=>l({...t,search:s.target.value}),className:"border border-[#cfd8dc] rounded px-3 py-1 w-48 outline-none focus:border-[#1e88e5]"}),e.jsxs("select",{value:t.status,onChange:s=>l({...t,status:s.target.value}),className:"border border-[#cfd8dc] rounded px-3 py-1 w-32 outline-none bg-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Paid/Active"})]})]}),e.jsxs("button",{className:"bg-[#1e88e5] text-white px-4 py-1 rounded hover:bg-blue-600 flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3"})," Search"]}),e.jsx("button",{onClick:r,className:"bg-white border border-[#cfd8dc] text-gray-600 px-4 py-1 rounded hover:bg-gray-50",children:"Reset"})]}),e.jsx("div",{className:"flex justify-between items-center mt-3 pt-2 border-t border-dashed border-[#cfd8dc]",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"bg-green-600 text-white px-3 py-1 rounded flex items-center gap-1 hover:bg-green-700",children:[e.jsx(Ne,{className:"w-3 h-3"})," Refresh / 15s"]}),e.jsxs("button",{onClick:o,className:"bg-white border border-[#cfd8dc] text-gray-600 px-3 py-1 rounded flex items-center gap-1 hover:bg-gray-50",children:[e.jsx(oe,{className:"w-3 h-3"})," Export Report"]})]})})]}),pt=({user:t,onLogout:l})=>{const[r,o]=d.useState("ops"),[s,n]=d.useState("loan_management"),[c,m]=d.useState([]),[i,u]=d.useState([]),[C,w]=d.useState([]),[N,$]=d.useState({search:"",status:"all"}),[b,S]=d.useState(1),[A,I]=d.useState(null),[W,H]=d.useState(null),[y,O]=d.useState(null),[U,K]=d.useState("");d.useEffect(()=>{n(r==="ops"?"loan_management":"admin_dashboard")},[r]),d.useEffect(()=>{if(!t)return;const x=E(D,"artifacts",L,"public","data","loans"),j=G(x,v=>{const B=v.docs.map(R=>({id:R.id,...R.data()}));B.sort((R,ne)=>{var Z,p;return(((Z=ne.timestamp)==null?void 0:Z.seconds)||0)-(((p=R.timestamp)==null?void 0:p.seconds)||0)}),m(B)},v=>{console.log("Loans listener error:",v)});return()=>j()},[t]),d.useEffect(()=>{if(!t)return;const x=E(D,"artifacts",L,"public","data","staff"),j=G(x,v=>{const B=v.docs.map(R=>({id:R.id,...R.data()}));u(B)},v=>{console.log("Staff listener error:",v)});return()=>j()},[t]);const f=d.useMemo(()=>c.filter(x=>{const j=N.search===""||x.id.includes(N.search)||x.userId.includes(N.search),v=N.status==="all"||x.status===N.status;return j&&v}),[c,N]),_=async(x,j)=>{try{await q(P(D,"artifacts",L,"public","data","loans",x),{status:j}),O(null)}catch(v){console.error(v)}},re=async(x,j)=>{try{await q(P(D,"artifacts",L,"public","data","loans",x),j)}catch(v){console.error(v)}},Y=async()=>{if(A)try{await q(P(D,"artifacts",L,"public","data","loans",A.id),{adminNotes:U}),I(null)}catch(x){console.error(x)}},Q=d.useMemo(()=>c.filter(x=>x.status==="pending").length,[c]);return e.jsxs("div",{className:"h-screen flex flex-col bg-[#f5f7fa] font-sans text-xs",children:[e.jsx(ut,{user:t,activeTab:s,setActiveTab:n,onLogout:l,viewMode:r,setViewMode:o,pendingCount:Q}),r==="ops"&&e.jsxs(e.Fragment,{children:[s==="loan_management"&&e.jsxs(e.Fragment,{children:[e.jsx(bt,{filters:N,setFilters:$,onReset:()=>$({search:"",status:"all"}),onExport:()=>exportToCSV(f,"loans.csv")}),e.jsx("div",{className:"flex-1 p-2 overflow-hidden flex flex-col",children:e.jsx(mt,{loans:f,selectedIds:C,toggleSelection:x=>w(j=>j.includes(x)?j.filter(v=>v!==x):[...j,x]),toggleAll:()=>w(x=>x.length===c.length?[]:c.map(j=>j.id)),onAction:_,onAddNote:x=>{I(x),K(x.adminNotes||"")},onViewClient:x=>H(x),setInspectingLoan:O})}),e.jsxs("div",{className:"h-10 bg-white border-t border-[#cfd8dc] flex items-center justify-between px-4 text-xs text-gray-600 sticky bottom-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:C.length===f.length&&f.length>0,onChange:()=>w(x=>x.length===f.length?[]:f.map(j=>j.id))}),e.jsx("span",{children:"Select All"}),e.jsx("button",{className:"ml-4 bg-white border border-[#cfd8dc] px-2 py-1 rounded hover:bg-gray-50",children:"Batch Operation"}),e.jsxs("span",{className:"ml-2 text-gray-400",children:[f.length," items total"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(x=>Math.max(1,x-1)),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Te,{className:"w-4 h-4"})}),e.jsxs("span",{children:["Page ",b]}),e.jsx("button",{onClick:()=>S(x=>x+1),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]})]}),s==="financial_stats"&&e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsx(yt,{loans:c})}),s==="all_members"&&e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsx(wt,{loans:c})}),s==="risk_control"&&e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:e.jsx(ht,{})})]}),r==="admin"&&e.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[s==="admin_dashboard"&&e.jsx(gt,{loans:c,staff:i}),s==="user_management"&&e.jsx(ft,{staff:i}),s==="role_permission"&&e.jsx(jt,{}),s==="loan_config"&&e.jsx(Nt,{}),s==="reports"&&e.jsx(vt,{loans:c})]}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white w-[400px] shadow-lg rounded-sm border border-[#cfd8dc]",children:[e.jsxs("div",{className:"bg-[#1e88e5] text-white px-3 py-2 font-bold flex justify-between items-center",children:[e.jsx("span",{children:"Backend Remarks / Notes"}),e.jsx("button",{onClick:()=>I(null),children:e.jsx(je,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-4",children:e.jsx("textarea",{value:U,onChange:x=>K(x.target.value),className:"w-full border border-[#cfd8dc] rounded p-2 h-32 outline-none focus:border-[#1e88e5] text-gray-700",placeholder:"Enter notes..."})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-2 flex justify-end gap-2 border-t border-[#cfd8dc]",children:[e.jsx("button",{onClick:()=>I(null),className:"px-3 py-1 bg-white hover:bg-gray-100 rounded text-gray-600 border",children:"Cancel"}),e.jsx("button",{onClick:Y,className:"px-3 py-1 bg-[#1e88e5] text-white hover:bg-blue-600 rounded",children:"Save"})]})]})}),W&&e.jsx(it,{userId:W,onClose:()=>H(null)}),y&&e.jsx(St,{loan:y,onClose:()=>O(null),onAction:_,onUpdateLoan:re})]})},gt=({loans:t,staff:l})=>{const r=l.length||0,o=t.length*3+150,s=Math.min(100,Math.floor(t.length/5));return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 animate-fade-in",children:[{title:"Total Staff",val:r,icon:qe,color:"blue"},{title:"System Load",val:`${s}%`,icon:We,color:"green"},{title:"Audit Logs",val:o,icon:se,color:"purple"},{title:"Alerts",val:"0",icon:ae,color:"emerald"}].map((n,c)=>e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:n.title}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mt-1",children:n.val})]}),e.jsx("div",{className:`bg-${n.color}-50 p-2 rounded-lg`,children:e.jsx(n.icon,{className:`w-5 h-5 text-${n.color}-600`})})]})},c))})},ft=({staff:t})=>{const[l,r]=d.useState(!1),[o,s]=d.useState(""),[n,c]=d.useState("Manager"),m=async()=>{o&&(await ce(E(D,"artifacts",L,"public","data","staff"),{joined:new Date().toISOString()}),r(!1),s(""))},i=async u=>{await Se()};return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden animate-fade-in",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Staff Accounts"}),e.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white text-xs font-bold px-3 py-2 rounded flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4"})," Add User"]})]}),l&&e.jsxs("div",{className:"p-4 bg-blue-50 border-b border-blue-100 flex gap-2 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Name"}),e.jsx("input",{className:"border p-2 rounded w-48",value:o,onChange:u=>s(u.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Role"}),e.jsxs("select",{className:"border p-2 rounded w-48",value:n,onChange:u=>c(u.target.value),children:[e.jsx("option",{children:"Manager"}),e.jsx("option",{children:"Admin"}),e.jsx("option",{children:"Support"})]})]}),e.jsx("button",{onClick:m,className:"bg-blue-600 text-white px-4 py-2 rounded font-bold",children:"Save"}),e.jsx("button",{onClick:()=>r(!1),className:"bg-white border text-slate-600 px-4 py-2 rounded font-bold",children:"Cancel"})]}),e.jsxs("table",{className:"w-full text-left ent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsxs("tbody",{children:[t.map(u=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"font-medium",children:u.name}),e.jsx("td",{children:e.jsx("span",{className:"bg-slate-100 px-2 py-1 rounded text-xs font-bold",children:u.role})}),e.jsx("td",{children:e.jsx("span",{className:"text-green-600 font-bold text-xs",children:u.status})}),e.jsx("td",{children:e.jsx("button",{onClick:()=>i(u.id),className:"text-red-600 hover:underline",children:"Delete"})})]},u.id)),t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center p-4 text-slate-400",children:"No staff members found."})})]})]})]})},jt=()=>e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 animate-fade-in",children:[e.jsx("h3",{className:"font-bold text-slate-800 mb-4",children:"Role Access Matrix"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left ent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Module"}),e.jsx("th",{children:"Admin"}),e.jsx("th",{children:"Manager"})]})}),e.jsx("tbody",{children:["Loan Management","User Management","Financial Reports"].map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-bold",children:t}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:!0,readOnly:!0,className:"accent-blue-600"})}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:t!=="User Management",readOnly:!0,className:"accent-blue-600"})})]},t))})]})})]}),Nt=()=>{const[t,l]=d.useState(12),[r,o]=d.useState(!1),[s,n]=d.useState(!1);d.useEffect(()=>{(async()=>{try{const u=await ot(P(D,"artifacts",L,"public","data","config","settings"));u.exists()&&l(u.data().baseInterestRate)}catch(u){console.error(u)}})()},[]);const c=async()=>{o(!0),await te(),o(!1)},m=async()=>{if(window.confirm("This will add demo data (Users, Loans, Staff) to your database. Continue?")){n(!0);try{const i=[],u=[{id:"1234567",name:"Jose Silva",phone:"1234567",joined:new Date().toISOString()},{id:"9876543",name:"Maria Santos",phone:"9876543",joined:new Date(Date.now()-2592e6).toISOString()},{id:"5550001",name:"Carlos Oliveira",phone:"5550001",joined:new Date(Date.now()-5184e6).toISOString()}];for(const N of u)await te(P(D,"artifacts",L,"public","data","users_demo",N.id),N);const C=["approved","pending","rejected","approved"],w=["Personal","Business","Auto","Personal"];for(let N=0;N<20;N++){const $=u[Math.floor(Math.random()*u.length)],b=Math.floor(Math.random()*45+5)*100,S=C[Math.floor(Math.random()*C.length)],A=[6,12,24][Math.floor(Math.random()*3)],I=new Date(Date.now()-Math.floor(Math.random()*60*864e5));await ce(E(D,"artifacts",L,"public","data","loans"),{userId:$.id,amount:b,term:A,repaymentTotal:b*1.12,paidAmount:S==="approved"&&Math.random()>.5?b*.5:0,monthlyPayment:b*1.12/A,reason:"Demo loan request generated by seeder.",type:w[Math.floor(Math.random()*w.length)],status:S,timestamp:I,risk:Math.random()>.8?"High":"Low",creditScore:Math.floor(Math.random()*250+600),appliedInterest:.12,adminNotes:S==="rejected"?"Credit score too low":""})}await te(P(D,"artifacts",L,"public","data","staff","admin73"),{name:"Super Admin",role:"Admin",status:"Active",joined:new Date().toISOString()}),alert("Database populated successfully! Go to the Dashboard or Loan Management to see data.")}catch(i){console.error("Seeding failed:",i),alert("Error seeding data. "+(i.code==="permission-denied"?"Permission denied. Database likely not in Test Mode.":i.message))}finally{n(!1)}}};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4"})," General Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Base Interest Rate (%)"}),e.jsx("input",{type:"number",value:t,onChange:i=>l(i.target.value),className:"w-full border border-slate-200 rounded p-2 text-sm"})]}),e.jsxs("button",{onClick:c,disabled:r,className:"bg-blue-600 text-white text-sm font-bold px-4 py-2 rounded w-full flex justify-center items-center gap-2",children:[r&&e.jsx(X,{className:"animate-spin w-4 h-4"})," Save Changes"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-orange-500"})," Database Management"]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-100 mb-4",children:[e.jsx("h4",{className:"text-orange-800 font-bold text-xs uppercase mb-1",children:"Demo Mode"}),e.jsx("p",{className:"text-orange-700 text-xs",children:"Use this to populate the system with fake users, loans, and stats for demonstration purposes."})]}),e.jsx("button",{onClick:m,disabled:s,className:"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 text-sm font-bold px-4 py-3 rounded w-full flex justify-center items-center gap-2 shadow-sm",children:s?e.jsx(X,{className:"animate-spin w-4 h-4 text-orange-500"}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-4 h-4 text-orange-500"})," Generate Demo Data"]})})]})]})},vt=({loans:t})=>{const l=r=>{r==="summary"?exportToCSV(t,"monthly_summary.csv"):exportToCSV(t.filter(o=>o.risk==="High"),"risk_audit.csv")};return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden animate-fade-in",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:e.jsx("h3",{className:"font-bold text-slate-800",children:"System Reports"})}),e.jsxs("table",{className:"w-full text-left ent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Report Name"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Format"}),e.jsx("th",{children:"Action"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsxs("td",{className:"font-medium flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-slate-400"})," Monthly Summary"]}),e.jsx("td",{children:new Date().toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-[10px] font-bold",children:"CSV"})}),e.jsx("td",{children:e.jsxs("button",{onClick:()=>l("summary"),className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(oe,{className:"w-3 h-3"})," Download"]})})]}),e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsxs("td",{className:"font-medium flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-slate-400"})," High Risk Audit"]}),e.jsx("td",{children:new Date().toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-[10px] font-bold",children:"CSV"})}),e.jsx("td",{children:e.jsxs("button",{onClick:()=>l("risk"),className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(oe,{className:"w-3 h-3"})," Download"]})})]})]})]})]})},yt=({loans:t})=>{const l=t.reduce((s,n)=>s+(n.paidAmount||0),0),r=t.reduce((s,n)=>s+n.amount,0),o=t.reduce((s,n)=>s+(n.repaymentTotal-(n.paidAmount||0)),0);return e.jsxs("div",{className:"animate-fade-in space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{t:"Total Repaid",v:`$${l.toLocaleString()}`,i:Ve,c:"green"},{t:"Disbursed",v:`$${r.toLocaleString()}`,i:ze,c:"blue"},{t:"Outstanding",v:`$${o.toLocaleString()}`,i:Ge,c:"red"}].map((s,n)=>e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:`bg-${s.c}-100 p-3 rounded-full`,children:e.jsx(s.i,{className:`w-6 h-6 text-${s.c}-600`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:s.t}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.v})]})]},n))}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-slate-800 mb-6",children:"Cash Flow Analysis"}),e.jsx("div",{className:"h-64 flex items-end gap-2 justify-between px-4",children:[40,65,45,80,55,90,70,85,60,75,50,95].map((s,n)=>e.jsxs("div",{className:"w-full flex flex-col justify-end gap-1 group relative",children:[e.jsx("div",{style:{height:`${s}%`},className:"bg-blue-600 w-full rounded-t opacity-80"}),e.jsx("div",{style:{height:`${s*.6}%`},className:"bg-green-500 w-full rounded-t opacity-80 -mt-2"})]},n))})]})]})},wt=({loans:t})=>{const l=d.useMemo(()=>{const r={};return t.forEach(o=>{var s,n;r[o.userId]||(r[o.userId]={id:o.userId,totalLoans:0,lastActive:o.timestamp}),r[o.userId].totalLoans+=1,((s=o.timestamp)==null?void 0:s.seconds)>(((n=r[o.userId].lastActive)==null?void 0:n.seconds)||0)&&(r[o.userId].lastActive=o.timestamp)}),Object.values(r)},[t]);return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden animate-fade-in",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Member Directory"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("input",{placeholder:"Search...",className:"border border-slate-200 rounded px-3 py-1 text-xs outline-none"})})]}),e.jsxs("table",{className:"w-full text-left ent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Member Info"}),e.jsx("th",{children:"Level"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map((r,o)=>{var s;return e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{children:e.jsxs("div",{className:"font-bold text-slate-700",children:[r.id.slice(0,12),"..."]})}),e.jsx("td",{children:e.jsxs("span",{className:"bg-orange-50 text-orange-600 px-1.5 py-0.5 rounded text-[10px] font-bold",children:["VIP ",Math.min(5,Math.floor(r.totalLoans/2)+1)]})}),e.jsx("td",{className:"text-slate-500 text-xs",children:formatDate((s=r.lastActive)==null?void 0:s.seconds)}),e.jsx("td",{children:e.jsx("span",{className:"text-green-600 font-bold text-xs",children:"Normal"})}),e.jsx("td",{children:e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-[10px] font-bold border border-blue-200 px-2 py-0.5 rounded",children:"View"})})})]},r.id)})})]})]})},St=({loan:t,onClose:l,onAction:r,onUpdateLoan:o})=>{const[s,n]=d.useState(t.amount),c=async()=>{await o(t.id,{amount:Number(s)}),l()};return e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full md:w-[400px] bg-white shadow-2xl z-50 flex flex-col border-l border-slate-200 animate-slide-in-right",children:[e.jsxs("div",{className:"bg-slate-900 text-white p-5 flex justify-between items-start",children:[e.jsx("div",{children:e.jsx("h2",{className:"font-bold text-lg",children:"Risk Audit"})}),e.jsx("button",{onClick:l,children:e.jsx(je,{className:"w-6 h-6 text-slate-400"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Counter-Offer"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:s,onChange:m=>n(m.target.value),className:"border p-1 w-full rounded"}),e.jsx("button",{onClick:c,className:"bg-orange-500 text-white px-3 rounded font-bold",children:"Update"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>r(t.id,"rejected"),className:"bg-white border text-slate-600 py-2 rounded font-bold",children:"Reject"}),e.jsx("button",{onClick:()=>r(t.id,"approved"),className:"bg-emerald-600 text-white py-2 rounded font-bold",children:"Approve"})]})]})]})};function Ct(){const[t,l]=d.useState(null),[r,o]=d.useState("landing"),[s,n]=d.useState(!0),[c,m]=d.useState(null),i=()=>{l({uid:"guest_bypass_"+Math.floor(Math.random()*1e3),isAnonymous:!0}),m(null),n(!1)};return d.useEffect(()=>{let u;const C=async()=>{try{await at(pe)}catch(w){console.error("Firebase Auth Error:",w),w.code==="auth/configuration-not-found"?m({title:"Authentication Disabled",msg:"Anonymous Auth is not enabled in Firebase Console."}):w.code==="auth/admin-restricted-operation"?m({title:"Project Restricted",msg:"Your API Key is restricted or Identity Toolkit API is disabled in Google Cloud Console."}):m({title:"Connection Error",msg:w.message}),n(!1)}};return u=lt(),pe.currentUser?n(!1):C(),()=>{u&&u()}},[]),c?e.jsx("div",{className:"min-h-screen bg-red-50 flex flex-col items-center justify-center p-6 text-center animate-fade-in font-sans",children:e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-lg border border-red-100",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Pe,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:c.title}),e.jsx("p",{className:"text-slate-600 mb-6",children:c.msg}),e.jsxs("div",{className:"bg-slate-50 text-left p-4 rounded-xl border border-slate-200 text-sm space-y-2 mb-6",children:[e.jsx("p",{className:"font-bold text-slate-700",children:"How to Fix:"}),e.jsxs("ol",{className:"list-decimal pl-5 space-y-1 text-slate-600",children:[e.jsxs("li",{children:["Go to ",e.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"text-blue-600 hover:underline",children:"Firebase Console"})," â†’ Build â†’ Authentication."]}),e.jsxs("li",{children:["Enable ",e.jsx("strong",{children:"Anonymous"})," sign-in provider."]}),e.jsx("li",{children:'If "Restricted Operation" error: Go to Google Cloud Console â†’ APIs & Services â†’ Credentials and check API key restrictions.'})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white font-bold py-3 px-8 rounded-xl hover:bg-red-700 transition-colors shadow-lg shadow-red-200",children:"I've Fixed It, Reload App"}),e.jsx("button",{onClick:i,className:"bg-white border border-slate-300 text-slate-600 font-bold py-3 px-8 rounded-xl hover:bg-slate-50 transition-colors",children:"Bypass & Enter App (Test Mode Only)"})]})]})}):s?e.jsx("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-slate-50 gap-4",children:e.jsx(X,{className:"animate-spin text-indigo-600 w-10 h-10"})}):e.jsx(e.Fragment,{children:r==="landing"?e.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:e.jsxs("div",{className:"bg-white p-10 md:p-14 rounded-[2.5rem] shadow-2xl max-w-4xl w-full text-center relative z-10 border border-slate-100 animate-fade-in",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-4",children:"FinCorp Banking Portal V5.0"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mt-12",children:[e.jsxs("button",{onClick:()=>o("client_login"),className:"group bg-white border border-slate-200 hover:border-indigo-500/50 p-8 rounded-3xl transition-all hover:shadow-xl text-left",children:[e.jsx("div",{className:"bg-indigo-600 w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white",children:e.jsx(ie,{className:"w-7 h-7"})}),e.jsx("h3",{className:"font-bold text-xl text-slate-800",children:"Client App"}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Apply for loans & view wallet."})]}),e.jsxs("button",{onClick:()=>o("admin_login"),className:"group bg-white border border-slate-200 hover:border-slate-800 p-8 rounded-3xl transition-all hover:shadow-xl text-left",children:[e.jsx("div",{className:"bg-slate-800 w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white",children:e.jsx(ae,{className:"w-7 h-7"})}),e.jsx("h3",{className:"font-bold text-xl text-slate-800",children:"Enterprise Backend"}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Manage loans, risk & system."})]})]})]})}):r==="admin_login"?e.jsx(dt,{onLogin:()=>o("admin")}):e.jsx(pt,{user:t,onLogout:()=>o("landing")})})}const kt=de.createRoot(document.getElementById("root"));(async()=>{try{await tt()}catch(t){console.warn("Firebase CDN prepare failed:",t)}kt.render(e.jsx(De.StrictMode,{children:e.jsx(Ct,{})}))})();
//# sourceMappingURL=index-Dt0Yi8qx.js.map
